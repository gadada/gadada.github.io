---
title: "关于memset()那些坑"
tags:
  - C/C++
categories:
  - Algorithm Basics
---
今天找bug花了3个多小时，万万没想到是错在这里。
![emoji]({{site.url}}{{site.baseurl}}/images/emoji/smart.png)

## C_memset()
```c
int p[5];
memset(p, 1, sizeof(p));
...
printf("%d", p[0]);
```
一直觉得memset就是给数组赋值的，理所当然的觉得这样能初始化为1，结果打印出`16843009`

### memset函数声明
- ```markdown
  memset(void *s,int ch,size_t n);
  ```
  
将s开始的n个字节用 ch的二进制的后八位 替代并且返回s；并不是简单的将 ch 的值设置到s数组中。一般 ch 只出现 0 和 -1 两种情况，0是将内存全置为0，-1是将内存全都置为 1。其它ch值均不常用。