---
title: "关于二维数组的传参"
tags:
  - C/C++
categories:
  - Algorithm Basics
---
今天看见一篇二维数组传参退化成一维数组指针的文章，结合自己的理解写一篇小总结

## C
### 二维数组存放方式
二维数组中元素排列的顺序是按行存放的，即在内存中先顺序存放第一行的元素，再存放第二行的元素…
### 二维数组作为函数参数
二维数组作为函数参数，实参可以直接使用二维数组名，在被调用函数中对形参数组定义可以指定所有维数的大小，也可以省略第一维的大小说明，如：
```c
void f(int a[3][4]);
void f(int a[][4]);
void f(int (*a)[4]);
```
### 各个维数不固定的二维数组
- 将二维数组当一维数组操作
被调用函数定义：
```c
void f(int *a,int n);
```
实参传递：
```c
int a[3][4];
f(*a,12);
```
- 手工转变寻址方式
被调用函数定义：
```c
void f(int **a, int m, int n);
```
实参传递：
```c
int a[3][4];
f((int **)a, 3, 4);
```
这样在被调用数组中对对元素`a[i][j]`的访问可以使用如下形式：
```c
*((int*)a + n * i + j);
```
注意不能使用`a[i][j]`来直接访问，因为编译器无法为其定位。
